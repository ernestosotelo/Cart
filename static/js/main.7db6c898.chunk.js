(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports={block:"cartOrderTotal_block__3pIYs",purchaseButton:"cartOrderTotal_purchaseButton__3wDFA",taxAmounts:"cartOrderTotal_taxAmounts__NcXsR",purchaseTotal:"cartOrderTotal_purchaseTotal__Hqevv",link:"cartOrderTotal_link__3CRRa"}},17:function(e,t,a){e.exports={block:"cartPage_block__3wMjf",testing:"cartPage_testing__1lbV5",items:"cartPage_items__1SYKb",message:"cartPage_message__HdBKS",link:"cartPage_link__dTpfu"}},2:function(e,t,a){e.exports={block:"item_block__3vy45",removeButton:"item_removeButton__wmnFe",message:"item_message__CSCHE",photo:"item_photo__1zR68",price:"item_price__2FyEF",name:"item_name__14WbQ",cartIcon:"item_cartIcon__1vzRh"}},21:function(e,t,a){e.exports=a.p+"static/media/cart.b4557f72.svg"},25:function(e,t,a){e.exports={block:"header_block__iyhfj",items:"header_items__22lh3"}},41:function(e,t,a){e.exports={block:"items_block__3Sr7Y"}},43:function(e,t,a){e.exports=a(71)},52:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),l=a(10),o=a(15),u=a(38),m=a(13),s={items:[],error:null,loading:!0},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FRUITS_LOADING":return Object(m.a)({},e,{loading:!0});case"FETCH_FRUITS_SUCCESS":return Object(m.a)({},e,{loading:!1,error:null,items:t.data});case"FETCH_FRUITS_FAILURE":return Object(m.a)({},e,{loading:!1,error:t.data.error});default:return e}},p=a(42),f={items:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SELECTION":return Object(m.a)({},e,{items:[].concat(Object(p.a)(e.items),[t.selection])});case"REMOVE_SELECTION":return Object(m.a)({},e,{items:e.items.filter(function(e){return e.id!==t.id})});default:return e}},b=a(9),_=a(11),h=(a(52),a(25)),g=a.n(h),y=a(21),v=a.n(y),N=Object(l.b)(function(e){return{fruits:e.items,cart:e.cart.items}})(function(e){var t=e.cart;return r.a.createElement("div",{className:g.a.block},r.a.createElement("h1",null,"Apples -N- Oranges"),r.a.createElement(b.b,{to:"/cart"},r.a.createElement("img",{src:v.a,alt:"Shopping Cart Icon"}),r.a.createElement("p",{className:g.a.items},"Items: ",t.length)))}),O=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("main",null,t))},k=a(12),S=a(2),C=a.n(S),T=function(e){var t=Object(n.useState)(1),a=Object(k.a)(t,2),c=a[0],i=a[1];return r.a.createElement("div",{className:C.a.block},r.a.createElement("img",{className:C.a.photo,src:e.photo,alt:" ".concat(e.alt)}),r.a.createElement("p",{className:C.a.name},e.name),r.a.createElement("div",{className:C.a.quantity},r.a.createElement("label",{htmlFor:"quantity"}," qty: "),r.a.createElement("input",{min:"1",id:e.id,type:"number",className:"quantity",onChange:function(e){i(e.target.value)},onBlur:function(e){e.target.value<1&&i(1)},value:c})),r.a.createElement("p",{className:C.a.message,style:{display:e.messageDisplay}},"Added to your cart."),r.a.createElement("button",{style:{display:e.buttonDisplay},onClick:e.handleAddToCart},r.a.createElement("img",{className:C.a.cartIcon,src:v.a,alt:"Shopping Cart Icon"}),"Add to Cart"),r.a.createElement("p",{className:C.a.price},"Price: $",e.price))},F=a(40),j=a.n(F),q=function(e){return{type:"FETCH_FRUITS_SUCCESS",data:e}},I=function(){return{type:"FETCH_FRUITS_LOADING"}},x=function(e){return{type:"FETCH_FRUITS_FAILURE",data:{error:e}}},R=a(41),w=a.n(R),A={fetchFruits:function(){return function(e){e(I()),j.a.get("/api/fruits.json").then(function(t){e(q(t.data))}).catch(function(t){e(x(t.message))})}},addSelection:function(e){return{type:"ADD_SELECTION",selection:{id:e.id,name:e.name,price:e.price,photo:e.photo,quantity:e.quantity}}}},B=Object(l.b)(function(e){return{fruits:e.fruits.items,cart:e.cart.items}},A)(function(e){var t=e.fetchFruits,a=e.fruits,c=e.cart,i=e.addSelection,l=Object(n.useState)(1),o=Object(k.a)(l,2),u=o[0],m=o[1];return Object(n.useEffect)(function(){if(0===a.length)return t()},[t,a.length]),r.a.createElement("div",{className:w.a.block},a.map(function(e){var t=c.find(function(t){return t.id===e.id});return r.a.createElement(T,Object.assign({buttonDisplay:t?"none":"block",messageDisplay:t?"block":"none",id:e.id,value:u,handleChange:function(e){m(e.target.value)},handleAddToCart:function(){t||i({id:e.id,name:e.name,photo:e.photo,price:e.price,quantity:document.getElementById(e.id).getAttribute("value")})},key:e.id},e))}))}),D=function(){return r.a.createElement(O,null,r.a.createElement(B,null))},L=function(e){return r.a.createElement("div",{className:C.a.block},r.a.createElement("img",{className:C.a.photo,src:e.photo,alt:"Poster of: ".concat(e.alt)}),r.a.createElement("p",{className:C.a.name},e.name),r.a.createElement("div",{className:C.a.quantity},r.a.createElement("label",{htmlFor:"cartQuantity"},"qty:")," ",r.a.createElement("input",{defaultValue:e.value,min:"1",id:"cartQuantity",name:"cartQuantity",type:"number",onChange:e.handleChange,onBlur:e.handleBlur})),r.a.createElement("button",{className:C.a.removeButton,onClick:e.handleRemove},"Remove"),r.a.createElement("p",{className:C.a.price},"Price: $",e.price))},P=a(17),U=a.n(P),H=a(14),z=a.n(H),$=function(e){return r.a.createElement("div",{className:z.a.block},r.a.createElement("h2",null,"Order Summary"),r.a.createElement("div",{className:z.a.items},r.a.createElement("b",{style:{fontSize:"3rem"}},"Items"),e.itemList),r.a.createElement("div",{className:z.a.taxAmounts},r.a.createElement("p",null,"Total before tax: $",e.total),r.a.createElement("p",null,"Estimated tax: $",e.tax)),r.a.createElement("p",{className:z.a.purchaseTotal},"Order Total: $",e.purchaseTotal," "),r.a.createElement("button",{className:z.a.purchaseButton},"Purchase"),r.a.createElement(b.b,{to:"/"},r.a.createElement("button",{className:z.a.link}," Continue Shopping")))},Q={removeSelection:function(e){return{type:"REMOVE_SELECTION",id:e.id}}},V=Object(l.b)(function(e){return{fruits:e.items,cart:e.cart.items}},Q)(function(e){var t=e.cart,a=e.removeSelection,c=Object(n.useState)(!1),i=Object(k.a)(c,2),l=i[0],o=i[1],u=Object(n.useState)(""),m=Object(k.a)(u,2),s=m[0],d=m[1],p=function(){var e=t.map(function(e){return parseFloat(e.price)*Number(e.quantity)}).reduce(function(e,t){return parseFloat(e)+parseFloat(t)},0);d(parseFloat(e).toFixed(2))};Object(n.useEffect)(function(){p()});var f=function(e){if(e.target.value<1)return e.target.value=1},E=function(e){var a=e.find(function(e){return"frorange123"===e}),n=e.find(function(e){return"frapple123"===e});return t.map(function(e){return e.id===n?r.a.createElement("p",{key:e.id,style:{fontSize:"2rem"}},e.name," qty: ",2*Number(e.quantity)," "):e.id===a?function(){var t;return t=1===Number(e.quantity)?Number(e.quantity):Number(e.quantity)%2===0&&Number(e.quantity)>=2?1.5*Number(e.quantity):1.5*Number(e.quantity)-.5,r.a.createElement("p",{key:e.id,style:{fontSize:"2rem"}},e.name," qty: ",Number(t)," ")}():r.a.createElement("p",{key:e.id,style:{fontSize:"2rem"}},e.name," qty: ",Number(e.quantity)," ")})};return r.a.createElement(O,null,r.a.createElement("div",{className:U.a.block},t.length>0&&r.a.createElement("div",{className:U.a.testing}," ",r.a.createElement("h2",null,"Testing Purposes:"),r.a.createElement("button",{onClick:function(){return o(!l)}},!1===l?"Apply Discounts":"Remove Discounts")),t.map(function(e){return r.a.createElement("div",{key:e.id,className:U.a.items},r.a.createElement(L,Object.assign({key:e.id,handleChange:function(a){return e.quantity=a.target.value,console.log(t),p(),a.target.value},handleBlur:f,value:e.quantity,handleRemove:function(){return a({id:e.id})}},e)))}),0===t.length?r.a.createElement("div",null,r.a.createElement("p",{className:U.a.message},"Your cart is empty!"),r.a.createElement(b.b,{to:"/"},r.a.createElement("button",{className:U.a.link}," Continue Shopping"))):r.a.createElement($,{itemList:E(l?["frapple123","frorange123"]:[]),total:s,purchaseTotal:(1.05*s).toFixed(2),tax:(.05*s).toFixed(2)})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=Object(o.d)(Object(o.c)({fruits:d,cart:E}),Object(o.a)(u.a));i.a.render(r.a.createElement(l.a,{store:Y},r.a.createElement(function(){return r.a.createElement(b.a,null,r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0,component:D}),r.a.createElement(_.a,{path:"/cart",exact:!0,component:V})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.7db6c898.chunk.js.map